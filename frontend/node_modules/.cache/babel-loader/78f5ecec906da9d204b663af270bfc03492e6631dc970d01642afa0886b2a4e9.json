{"ast":null,"code":"var _jsxFileName = \"/Users/harjotsingh/Desktop/git/django/tracker/frontend/src/pages/homePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Typography, Box, Button, Dialog, Card, CardContent, CardActions } from \"@mui/material\";\nimport AddIcon from '@mui/icons-material/Add';\nimport { JobForm } from \"../components/jobForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomePage() {\n  _s();\n  const [openDailog, setOpenDialog] = useState(false);\n  const username = localStorage.getItem('username');\n  const password = localStorage.getItem('password');\n  const credentials = btoa(`${username}:${password}`);\n  const [jobs, setJobs] = useState([]);\n  const [jobSaved, setJobSaved] = useState(false);\n  const handleOpenDialog = () => {\n    setOpenDialog(true);\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n  };\n  const jobDelete = async id => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/api/${username}/jobs/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Basic ${credentials}`\n        }\n      });\n      if (response.ok) {\n        fetchJobs();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const fetchJobs = async () => {\n    try {\n      const response = await fetch(`http://127.0.0.1:8000/api/${username}/jobs`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Basic ${credentials}`\n        }\n      });\n      if (response.ok) {\n        const jobsData = await response.json();\n        setJobs(jobsData);\n      } else {\n        console.error('Failed to fetch jobs');\n      }\n    } catch (error) {\n      console.error('Error fetching jobs:', error);\n    }\n  };\n  useEffect(() => {\n    fetchJobs();\n  }, [username, credentials, jobSaved]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      position: 'relative',\n      height: '100vh' // Full viewport height\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        // Parent Box for layout\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        paddingTop: '100px' // Adjust as needed\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        sx: {\n          textAlign: 'center',\n          position: 'absolute',\n          top: 16,\n          // Adjust from the top\n          left: '50%',\n          // Position in the middle\n          transform: 'translateX(-50%)' // Adjust for text width\n        },\n        children: \"Job Tracker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), jobs.map(job => /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          width: '300px',\n          margin: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            component: \"div\",\n            children: job.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              mb: 1.5\n            },\n            color: \"text.secondary\",\n            children: job.company\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: job.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: job.date_applied\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n          className: \"card-icons\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            color: \"primary\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            color: \"error\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }, this)]\n      }, job.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleOpenDialog,\n      variant: \"outlined\",\n      startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 28\n      }, this),\n      color: \"primary\",\n      sx: {\n        position: 'absolute',\n        top: 16,\n        right: 16\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDailog,\n      onClose: handleCloseDialog,\n      children: /*#__PURE__*/_jsxDEV(JobForm, {\n        onClose: handleCloseDialog,\n        onJobSaved: setJobSaved\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n_s(HomePage, \"cW1LIL/TUn72KXtdo4YmM2qG86M=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","Typography","Box","Button","Dialog","Card","CardContent","CardActions","AddIcon","JobForm","jsxDEV","_jsxDEV","HomePage","_s","openDailog","setOpenDialog","username","localStorage","getItem","password","credentials","btoa","jobs","setJobs","jobSaved","setJobSaved","handleOpenDialog","handleCloseDialog","jobDelete","id","response","fetch","method","headers","ok","fetchJobs","error","console","log","jobsData","json","sx","position","height","children","display","flexDirection","alignItems","paddingTop","variant","textAlign","top","left","transform","fileName","_jsxFileName","lineNumber","columnNumber","map","job","width","margin","component","title","mb","color","company","status","date_applied","className","size","onClick","startIcon","right","open","onClose","onJobSaved","_c","$RefreshReg$"],"sources":["/Users/harjotsingh/Desktop/git/django/tracker/frontend/src/pages/homePage.js"],"sourcesContent":["import React, { useState , useEffect} from \"react\";\nimport { Typography, Box, Button, Dialog, Card, CardContent, CardActions} from \"@mui/material\";\nimport AddIcon from '@mui/icons-material/Add'; \nimport { JobForm\n} from \"../components/jobForm\";\n\n\n\nfunction HomePage () {\n    const [openDailog, setOpenDialog] = useState(false)\n    const username = localStorage.getItem('username')\n    const password = localStorage.getItem('password')\n    const credentials =  btoa(`${username}:${password}`)\n\n    const [jobs, setJobs] = useState([])\n\n    const [jobSaved, setJobSaved] = useState(false);\n\n    const handleOpenDialog = () => {\n        setOpenDialog(true);\n      };\n    \n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n    };\n    \n    const jobDelete =  async (id) => {\n        try{\n            const response = await fetch(`http://127.0.0.1:8000/api/${username}/jobs/${id}`, {\n                method: 'DELETE',\n                headers: {\n                    'Authorization': `Basic ${credentials}`\n                }\n            })\n\n            if (response.ok){\n                fetchJobs()\n\n            }\n        }catch(error){\n            console.log(error)\n        }\n\n\n    }\n    \n\n    const fetchJobs = async () => {\n        try {\n            const response = await fetch(`http://127.0.0.1:8000/api/${username}/jobs`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Basic ${credentials}`\n                }\n            });\n\n            if (response.ok) {\n                const jobsData = await response.json();\n                setJobs(jobsData);\n            } else {\n                console.error('Failed to fetch jobs');\n            }\n        } catch (error) {\n            console.error('Error fetching jobs:', error);\n        }\n    };\n\n    useEffect(() => {\n        \n\n        fetchJobs();\n    }, [username, credentials, jobSaved]);\n\n    \n    return (\n        <Box sx={{ \n            position: 'relative',\n            height: '100vh', // Full viewport height\n        }}>\n\n            <Box sx={{ // Parent Box for layout\n                            display: 'flex',\n                            flexDirection: 'column',\n                            alignItems: 'center',\n                            paddingTop: '100px', // Adjust as needed\n                        }}>\n\n                {/* Top center Job Tracker text */}\n                <Typography variant=\"h3\" sx={{ \n                    textAlign: 'center',\n                    position: 'absolute',\n                    top: 16, // Adjust from the top\n                    left: '50%',  // Position in the middle\n                    transform: 'translateX(-50%)', // Adjust for text width\n                }}>\n                    Job Tracker\n                </Typography>\n\n                \n                {jobs.map((job) => (\n                    <Card key={job.id} sx={{ width: '300px', margin: '8px' }}>\n                        <CardContent>\n                            <Typography variant=\"h5\" component=\"div\">\n                                {job.title}\n                            </Typography>\n                            <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\n                                {job.company}\n                            </Typography>\n                            <Typography variant=\"body2\">\n                                {job.status}\n                            </Typography>\n                            <Typography variant=\"body2\">\n                                {job.date_applied}\n                            </Typography>\n                        </CardContent>\n\n                        <CardActions className=\"card-icons\"> \n                            <Button size=\"small\" color=\"primary\">Edit</Button>\n                            <Button size=\"small\" color=\"error\">Delete</Button>\n                        </CardActions>\n                    </Card>\n                ))}\n                \n\n\n            </Box>\n            {/* Top right Add icon button */}\n            <Button \n                onClick={handleOpenDialog}\n                variant=\"outlined\" \n                startIcon={<AddIcon />} \n                color=\"primary\" \n                sx={{ \n                    position: 'absolute', \n                    top: 16,\n                    right: 16 ,\n                }}\n            >\n            </Button> \n\n            \n\n            <Dialog open={openDailog} onClose={handleCloseDialog}>\n                <JobForm onClose={handleCloseDialog} onJobSaved = {setJobSaved}/>\n            </Dialog>\n        </Box>\n    );\n}\n\nexport default HomePage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAGC,SAAS,QAAO,OAAO;AAClD,SAASC,UAAU,EAAEC,GAAG,EAAEC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAEC,WAAW,EAAEC,WAAW,QAAO,eAAe;AAC9F,OAAOC,OAAO,MAAM,yBAAyB;AAC7C,SAASC,OAAO,QACT,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAI/B,SAASC,QAAQA,CAAA,EAAI;EAAAC,EAAA;EACjB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAMiB,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EACjD,MAAMC,QAAQ,GAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EACjD,MAAME,WAAW,GAAIC,IAAI,CAAE,GAAEL,QAAS,IAAGG,QAAS,EAAC,CAAC;EAEpD,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAEpC,MAAM,CAACyB,QAAQ,EAAEC,WAAW,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EAE/C,MAAM2B,gBAAgB,GAAGA,CAAA,KAAM;IAC3BX,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;EAEH,MAAMY,iBAAiB,GAAGA,CAAA,KAAM;IAC5BZ,aAAa,CAAC,KAAK,CAAC;EACxB,CAAC;EAED,MAAMa,SAAS,GAAI,MAAOC,EAAE,IAAK;IAC7B,IAAG;MACC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,6BAA4Bf,QAAS,SAAQa,EAAG,EAAC,EAAE;QAC7EG,MAAM,EAAE,QAAQ;QAChBC,OAAO,EAAE;UACL,eAAe,EAAG,SAAQb,WAAY;QAC1C;MACJ,CAAC,CAAC;MAEF,IAAIU,QAAQ,CAACI,EAAE,EAAC;QACZC,SAAS,CAAC,CAAC;MAEf;IACJ,CAAC,QAAMC,KAAK,EAAC;MACTC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EAGJ,CAAC;EAGD,MAAMD,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACA,MAAML,QAAQ,GAAG,MAAMC,KAAK,CAAE,6BAA4Bf,QAAS,OAAM,EAAE;QACvEgB,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACL,eAAe,EAAG,SAAQb,WAAY;QAC1C;MACJ,CAAC,CAAC;MAEF,IAAIU,QAAQ,CAACI,EAAE,EAAE;QACb,MAAMK,QAAQ,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;QACtCjB,OAAO,CAACgB,QAAQ,CAAC;MACrB,CAAC,MAAM;QACHF,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAC;MACzC;IACJ,CAAC,CAAC,OAAOA,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAChD;EACJ,CAAC;EAEDpC,SAAS,CAAC,MAAM;IAGZmC,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACnB,QAAQ,EAAEI,WAAW,EAAEI,QAAQ,CAAC,CAAC;EAGrC,oBACIb,OAAA,CAACT,GAAG;IAACuC,EAAE,EAAE;MACLC,QAAQ,EAAE,UAAU;MACpBC,MAAM,EAAE,OAAO,CAAE;IACrB,CAAE;IAAAC,QAAA,gBAEEjC,OAAA,CAACT,GAAG;MAACuC,EAAE,EAAE;QAAE;QACKI,OAAO,EAAE,MAAM;QACfC,aAAa,EAAE,QAAQ;QACvBC,UAAU,EAAE,QAAQ;QACpBC,UAAU,EAAE,OAAO,CAAE;MACzB,CAAE;MAAAJ,QAAA,gBAGVjC,OAAA,CAACV,UAAU;QAACgD,OAAO,EAAC,IAAI;QAACR,EAAE,EAAE;UACzBS,SAAS,EAAE,QAAQ;UACnBR,QAAQ,EAAE,UAAU;UACpBS,GAAG,EAAE,EAAE;UAAE;UACTC,IAAI,EAAE,KAAK;UAAG;UACdC,SAAS,EAAE,kBAAkB,CAAE;QACnC,CAAE;QAAAT,QAAA,EAAC;MAEH;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,EAGZnC,IAAI,CAACoC,GAAG,CAAEC,GAAG,iBACVhD,OAAA,CAACN,IAAI;QAAcoC,EAAE,EAAE;UAAEmB,KAAK,EAAE,OAAO;UAAEC,MAAM,EAAE;QAAM,CAAE;QAAAjB,QAAA,gBACrDjC,OAAA,CAACL,WAAW;UAAAsC,QAAA,gBACRjC,OAAA,CAACV,UAAU;YAACgD,OAAO,EAAC,IAAI;YAACa,SAAS,EAAC,KAAK;YAAAlB,QAAA,EACnCe,GAAG,CAACI;UAAK;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACb9C,OAAA,CAACV,UAAU;YAACwC,EAAE,EAAE;cAAEuB,EAAE,EAAE;YAAI,CAAE;YAACC,KAAK,EAAC,gBAAgB;YAAArB,QAAA,EAC9Ce,GAAG,CAACO;UAAO;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eACb9C,OAAA,CAACV,UAAU;YAACgD,OAAO,EAAC,OAAO;YAAAL,QAAA,EACtBe,GAAG,CAACQ;UAAM;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACb9C,OAAA,CAACV,UAAU;YAACgD,OAAO,EAAC,OAAO;YAAAL,QAAA,EACtBe,GAAG,CAACS;UAAY;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eAEd9C,OAAA,CAACJ,WAAW;UAAC8D,SAAS,EAAC,YAAY;UAAAzB,QAAA,gBAC/BjC,OAAA,CAACR,MAAM;YAACmE,IAAI,EAAC,OAAO;YAACL,KAAK,EAAC,SAAS;YAAArB,QAAA,EAAC;UAAI;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAClD9C,OAAA,CAACR,MAAM;YAACmE,IAAI,EAAC,OAAO;YAACL,KAAK,EAAC,OAAO;YAAArB,QAAA,EAAC;UAAM;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzC,CAAC;MAAA,GAnBPE,GAAG,CAAC9B,EAAE;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAoBX,CACT,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAID,CAAC,eAEN9C,OAAA,CAACR,MAAM;MACHoE,OAAO,EAAE7C,gBAAiB;MAC1BuB,OAAO,EAAC,UAAU;MAClBuB,SAAS,eAAE7D,OAAA,CAACH,OAAO;QAAA8C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAE;MACvBQ,KAAK,EAAC,SAAS;MACfxB,EAAE,EAAE;QACAC,QAAQ,EAAE,UAAU;QACpBS,GAAG,EAAE,EAAE;QACPsB,KAAK,EAAE;MACX;IAAE;MAAAnB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEE,CAAC,eAIT9C,OAAA,CAACP,MAAM;MAACsE,IAAI,EAAE5D,UAAW;MAAC6D,OAAO,EAAEhD,iBAAkB;MAAAiB,QAAA,eACjDjC,OAAA,CAACF,OAAO;QAACkE,OAAO,EAAEhD,iBAAkB;QAACiD,UAAU,EAAInD;MAAY;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7D,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEd;AAAC5C,EAAA,CA3IQD,QAAQ;AAAAiE,EAAA,GAARjE,QAAQ;AA6IjB,eAAeA,QAAQ;AAAC,IAAAiE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}